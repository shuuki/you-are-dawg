digraph {

goHome[label="go(home)", shape="ellipse"]
goForrage[label="go(forrage)", shape="ellipse"]
goFindTree[label="go(findTree)", shape="ellipse"]

subgraph clusterdefault {
  home [label="Have home tree?"];
  home -> goForrage [label="yes"];
  home -> goFindTree [label="no"];
}

subgraph clusterfindTree {
  search [label="search(home)"]
  set [label="this.home = tree"]

  search -> search [label="looking..."]
  search -> set [label="Found a tree?"]
  set -> goForrage;
}

subgraph clusterforrage {
  spiral [shape="circle"]
  spiral -> collect [label="found?"]
  collect -> spiral [label="not full"]
  collect -> goHome [label=""]
}

}